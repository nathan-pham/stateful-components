const t=(e,o)=>{o?e.children.length!==o.children.length?e.node.replaceWith(o.node):(((t,e)=>{if("text"==t.type)return void(t.parent.textContent=e.content);const o=[...t.props,...e.props],s=(e,o)=>{e.startsWith("on")?t.node[e.toLowerCase()]=o:t.node.setAttributeNS(null,e,o)},r=e=>{e.startsWith("on")?t.node[e.toLowerCase()]="":t.node.removeAttribute(e)};for(const a of o){const o=t.node.getAttribute(a),n=e.node.getAttribute(a);o&&o===n?n||r(a):s(a,n)}})(e,o),e.children.forEach(((e,s)=>{t(e,o.children[s])}))):e.node.remove()},e=t=>{let e=[];for(let o=0;o<t.length;o++)e.push(t[o].name);return e},o=(t,s)=>{if(!t)return null;const r=3==t.nodeType?"text":t.tagName.toLowerCase(),a={content:t.childNodes&&t.childNodes.length>0?null:t.textContent,props:"text"!==r&&t.hasAttributes()?e(t.attributes):[],node:t,parent:s,type:r};return a.children=[...t.childNodes].map((e=>o(e,t))),a},s=t=>"function"==typeof t,r=t=>(e,...o)=>((t,e={},...o)=>{const s=document.createElement(t);for(const[t,o]of Object.entries(e))t.startsWith("on")?s[t.toLowerCase()]=o:s.setAttributeNS(null,t,o);return o.flat(1/0).forEach((t=>{t&&s.appendChild("string"==typeof t?document.createTextNode(t):t)})),s})(t,e,o),a=r("a"),n=r("b"),i=r("i"),d=r("p"),l=r("q"),c=r("s"),h=r("br"),u=r("dd"),p=r("dl"),m=r("dt"),b=r("em"),f=r("h1"),g=r("h2"),y=r("h3"),v=r("h4"),w=r("h5"),x=r("h6"),C=r("hr"),k=r("li"),E=r("ol"),A=r("rp"),N=r("rt"),R=r("td"),S=r("th"),j=r("tr"),L=r("ul"),q=r("bdi"),W=r("bdo"),_=r("col"),T=r("del"),O=r("dfn"),z=r("div"),H=r("img"),M=r("ins"),P=r("kbd"),B=r("map"),D=r("nav"),F=r("pre"),G=r("rtc"),I=r("sub"),J=r("sup"),K=r("svg"),Q=r("wbr"),U=r("abbr"),V=r("area"),X=r("cite"),Y=r("code"),Z=r("data"),$=r("form"),tt=r("main"),et=r("mark"),ot=r("ruby"),st=r("samp"),rt=r("span"),at=r("time"),nt=r("aside"),it=r("audio"),dt=r("input"),lt=r("label"),ct=r("meter"),ht=r("param"),ut=r("small"),pt=r("table"),mt=r("tbody"),bt=r("tfoot"),ft=r("thead"),gt=r("track"),yt=r("video"),vt=r("button"),wt=r("canvas"),xt=r("dialog"),Ct=r("figure"),kt=r("footer"),Et=r("header"),At=r("iframe"),Nt=r("legend"),Rt=r("object"),St=r("option"),jt=r("output"),Lt=r("select"),qt=r("source"),Wt=r("strong"),_t=r("address"),Tt=r("article"),Ot=r("caption"),zt=r("details"),Ht=r("section"),Mt=r("summary"),Pt=r("picture"),Bt=r("colgroup"),Dt=r("datalist"),Ft=r("fieldset"),Gt=r("menuitem"),It=r("optgroup"),Jt=r("progress"),Kt=r("textarea"),Qt=r("blockquote"),Ut=r("figcaption");var Vt=Object.freeze({__proto__:null,a:a,b:n,i:i,p:d,q:l,s:c,br:h,dd:u,dl:p,dt:m,em:b,h1:f,h2:g,h3:y,h4:v,h5:w,h6:x,hr:C,li:k,ol:E,rp:A,rt:N,td:R,th:S,tr:j,ul:L,bdi:q,bdo:W,col:_,del:T,dfn:O,div:z,img:H,ins:M,kbd:P,map:B,nav:D,pre:F,rtc:G,sub:I,sup:J,svg:K,wbr:Q,abbr:U,area:V,cite:X,code:Y,data:Z,form:$,main:tt,mark:et,ruby:ot,samp:st,span:rt,time:at,aside:nt,audio:it,input:dt,label:lt,meter:ct,param:ht,small:ut,table:pt,tbody:mt,tfoot:bt,thead:ft,track:gt,video:yt,button:vt,canvas:wt,dialog:xt,figure:Ct,footer:kt,header:Et,iframe:At,legend:Nt,object:Rt,option:St,output:jt,select:Lt,source:qt,strong:Wt,address:_t,article:Tt,caption:Ot,details:zt,section:Ht,summary:Mt,picture:Pt,colgroup:Bt,datalist:Dt,fieldset:Ft,menuitem:Gt,optgroup:It,progress:Jt,textarea:Kt,blockquote:Qt,figcaption:Ut});const Xt=t=>{const e={};for(const o of t.getAttributeNames())e[o]=t.getAttribute(o);return e};export default(e,r)=>{const{state:a,render:n,style:i,mount:d,unmount:l}=r;class c extends HTMLElement{constructor(){super(),this.shadowRoot||this.attachShadow({mode:"open"}),this.styleElement=document.createElement("style");const e={set:(e,s,r)=>(e[s]=r,t(o(this.shadowRoot.firstChild,this.shadowRoot),o(n(this.state,this),this.shadowRoot)),i&&this.setStyle(),!0)};this.state=new Proxy(a||{},e),this.shadowRoot.appendChild(n(this.state,this)),i&&(this.setStyle(),this.shadowRoot.appendChild(this.styleElement))}connectedCallback(){s(d)&&d(this.state,this)}disconnectedCallback(){s(l)&&l(this.state,this)}setStyle(){let t=s(i)?i(this.state):i;t!==this.styleElement.textContent&&(this.styleElement.textContent=t)}}customElements.define(e,c)};export{Vt as jsh,Xt as props};
